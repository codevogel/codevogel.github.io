import{aB as z,g as P,a8 as V,aC as G,k as J,aD as x,ae as U,_ as d,z as l,a6 as K,al as b,y as W,A as Q,$ as R,X as ee,a1 as p,aE as E,ab as N,R as O,aF as H,aG as m,aH as L,aI as te,c as M,f as $,aJ as se,aK as ie,af as A,T as y,M as ne,Y as ae,aL as I,aM as re,E as he,aN as oe,aO as fe,aP as le,aQ as de,aR as j,ah as D,Z as v,U as q,aS as F,aT as k,aU as _e,aj as ue,a9 as ce,aV as pe,aW as B,aX as ge,aY as T,aZ as ve,p as ye,ao as Ee,a0 as me,a_ as Te,a as be}from"./DYg74M1_.js";function Re(i){let e=0,t=V(0),n;return()=>{z()&&(P(t),G(()=>(e===0&&(n=J(()=>i(()=>x(t)))),e+=1,()=>{U(()=>{e-=1,e===0&&(n?.(),n=void 0,x(t))})})))}}var we=he|oe|fe;function Ne(i,e,t){new Ae(i,e,t)}class Ae{parent;#s=!1;#t;#g=l?d:null;#n;#d;#a;#i=null;#e=null;#r=null;#h=null;#o=null;#_=0;#f=0;#u=!1;#l=null;#E=()=>{this.#l&&K(this.#l,this.#_)};#m=Re(()=>(this.#l=V(this.#_),()=>{this.#l=null}));constructor(e,t,n){this.#t=e,this.#n=t,this.#d=n,this.parent=b.b,this.#s=!!this.#n.pending,this.#a=W(()=>{if(b.b=this,l){const s=this.#g;Q(),s.nodeType===R&&s.data===ee?this.#b():this.#T()}else{var f=this.#v();try{this.#i=p(()=>n(f))}catch(s){this.error(s)}this.#f>0?this.#p():this.#s=!1}return()=>{this.#o?.remove()}},we),l&&(this.#t=d)}#T(){try{this.#i=p(()=>this.#d(this.#t))}catch(e){this.error(e)}this.#s=!1}#b(){const e=this.#n.pending;e&&(this.#e=p(()=>e(this.#t)),E.enqueue(()=>{var t=this.#v();this.#i=this.#c(()=>(E.ensure(),p(()=>this.#d(t)))),this.#f>0?this.#p():(N(this.#e,()=>{this.#e=null}),this.#s=!1)}))}#v(){var e=this.#t;return this.#s&&(this.#o=O(),this.#t.before(this.#o),e=this.#o),e}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#c(e){var t=b,n=M,f=$;H(this.#a),m(this.#a),L(this.#a.ctx);try{return e()}catch(s){return te(s),null}finally{H(t),m(n),L(f)}}#p(){const e=this.#n.pending;this.#i!==null&&(this.#h=document.createDocumentFragment(),this.#h.append(this.#o),se(this.#i,this.#h)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#f+=e,this.#f===0&&(this.#s=!1,this.#e&&N(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#y(e),this.#_+=e,ie.add(this.#E)}get_effect_pending(){return this.#m(),P(this.#l)}error(e){var t=this.#n.onerror;let n=this.#n.failed;if(this.#u||!t&&!n)throw e;this.#i&&(A(this.#i),this.#i=null),this.#e&&(A(this.#e),this.#e=null),this.#r&&(A(this.#r),this.#r=null),l&&(y(this.#g),ne(),y(ae()));var f=!1,s=!1;const r=()=>{if(f){le();return}f=!0,s&&re(),E.ensure(),this.#_=0,this.#r!==null&&N(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#i=this.#c(()=>(this.#u=!1,p(()=>this.#d(this.#t)))),this.#f>0?this.#p():this.#s=!1};var _=M;try{m(null),s=!0,t?.(e,r),s=!1}catch(u){I(u,this.#a&&this.#a.parent)}finally{m(_)}n&&U(()=>{this.#r=this.#c(()=>{E.ensure(),this.#u=!0;try{return p(()=>{n(this.#t,()=>e,()=>r)})}catch(u){return I(u,this.#a.parent),null}finally{this.#u=!1}})})}}let o;function De(){o=void 0}function Ce(i){let e=null,t=l;var n;if(l){for(e=d,o===void 0&&(o=q(document.head));o!==null&&(o.nodeType!==R||o.data!==j);)o=D(o);o===null?v(!1):o=y(D(o))}l||(n=document.head.appendChild(O()));try{W(()=>i(n),de)}finally{t&&(v(!0),o=d,y(e))}}function Oe(i,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(i.__t??=i.nodeValue)&&(i.__t=t,i.nodeValue=t+"")}function Fe(i,e){return X(i,e)}function Se(i,e){F(),e.intro=e.intro??!1;const t=e.target,n=l,f=d;try{for(var s=q(t);s&&(s.nodeType!==R||s.data!==j);)s=D(s);if(!s)throw k;v(!0),y(s);const r=X(i,{...e,anchor:s});return v(!1),r}catch(r){if(r instanceof Error&&r.message.split(`
`).some(_=>_.startsWith("https://svelte.dev/e/")))throw r;return r!==k&&console.warn("Failed to hydrate: ",r),e.recover===!1&&_e(),F(),ue(t),v(!1),Fe(i,e)}finally{v(n),y(f),De()}}const g=new Map;function X(i,{target:e,anchor:t,props:n={},events:f,context:s,intro:r=!0}){F();var _=new Set,u=c=>{for(var h=0;h<c.length;h++){var a=c[h];if(!_.has(a)){_.add(a);var S=ve(a);e.addEventListener(a,T,{passive:S});var Y=g.get(a);Y===void 0?(document.addEventListener(a,T,{passive:S}),g.set(a,1)):g.set(a,Y+1)}}};u(ce(pe)),B.add(u);var w=void 0,Z=ge(()=>{var c=t??e.appendChild(O());return Ne(c,{pending:()=>{}},h=>{if(s){ye({});var a=$;a.c=s}if(f&&(n.$$events=f),l&&Ee(h,null),w=i(h,n)||{},l&&(b.nodes_end=d,d===null||d.nodeType!==R||d.data!==me))throw Te(),k;s&&be()}),()=>{for(var h of _){e.removeEventListener(h,T);var a=g.get(h);--a===0?(document.removeEventListener(h,T),g.delete(h)):g.set(h,a)}B.delete(u),c!==t&&c.parentNode?.removeChild(c)}});return C.set(w,Z),w}let C=new WeakMap;function Ye(i,e){const t=C.get(i);return t?(C.delete(i),t(e)):Promise.resolve()}export{Ce as a,Re as c,Se as h,Fe as m,Oe as s,Ye as u};

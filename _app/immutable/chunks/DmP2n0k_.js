import{aB as G,h as B,a9 as P,aC as K,x as Q,aD as L,af as U,$ as d,L as l,a7 as X,am as T,I as W,M as z,a0 as R,Y as ee,a2 as p,aE as m,ac as N,S as C,aF as Y,aG as E,aH as H,aI as te,k as I,o as $,aJ as se,aK as ie,ag as D,U as y,O as ne,Z as ae,aL as M,aM as re,J as he,aN as oe,aO as fe,aP as le,aQ as de,aR as q,ai as F,_ as v,V as J,aS as k,aT as A,aU as _e,ak as ue,aa as ce,aV as pe,aW as V,aX as ge,aY as b,aZ as ve,p as ye,ap as me,a1 as Ee,a_ as be,b as Te}from"./BbMFilaF.js";function Re(i){let e=0,t=P(0),n;return()=>{G()&&(B(t),K(()=>(e===0&&(n=Q(()=>i(()=>L(t)))),e+=1,()=>{U(()=>{e-=1,e===0&&(n?.(),n=void 0,L(t))})})))}}var we=he|oe|fe;function Ne(i,e,t){new De(i,e,t)}class De{parent;#s=!1;#t;#g=l?d:null;#n;#d;#a;#i=null;#e=null;#r=null;#h=null;#o=null;#_=0;#f=0;#u=!1;#l=null;#m=()=>{this.#l&&X(this.#l,this.#_)};#E=Re(()=>(this.#l=P(this.#_),()=>{this.#l=null}));constructor(e,t,n){this.#t=e,this.#n=t,this.#d=n,this.parent=T.b,this.#s=!!this.#n.pending,this.#a=W(()=>{if(T.b=this,l){const s=this.#g;z(),s.nodeType===R&&s.data===ee?this.#T():this.#b()}else{var f=this.#v();try{this.#i=p(()=>n(f))}catch(s){this.error(s)}this.#f>0?this.#p():this.#s=!1}return()=>{this.#o?.remove()}},we),l&&(this.#t=d)}#b(){try{this.#i=p(()=>this.#d(this.#t))}catch(e){this.error(e)}this.#s=!1}#T(){const e=this.#n.pending;e&&(this.#e=p(()=>e(this.#t)),m.enqueue(()=>{var t=this.#v();this.#i=this.#c(()=>(m.ensure(),p(()=>this.#d(t)))),this.#f>0?this.#p():(N(this.#e,()=>{this.#e=null}),this.#s=!1)}))}#v(){var e=this.#t;return this.#s&&(this.#o=C(),this.#t.before(this.#o),e=this.#o),e}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#c(e){var t=T,n=I,f=$;Y(this.#a),E(this.#a),H(this.#a.ctx);try{return e()}catch(s){return te(s),null}finally{Y(t),E(n),H(f)}}#p(){const e=this.#n.pending;this.#i!==null&&(this.#h=document.createDocumentFragment(),this.#h.append(this.#o),se(this.#i,this.#h)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#f+=e,this.#f===0&&(this.#s=!1,this.#e&&N(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#y(e),this.#_+=e,ie.add(this.#m)}get_effect_pending(){return this.#E(),B(this.#l)}error(e){var t=this.#n.onerror;let n=this.#n.failed;if(this.#u||!t&&!n)throw e;this.#i&&(D(this.#i),this.#i=null),this.#e&&(D(this.#e),this.#e=null),this.#r&&(D(this.#r),this.#r=null),l&&(y(this.#g),ne(),y(ae()));var f=!1,s=!1;const r=()=>{if(f){le();return}f=!0,s&&re(),m.ensure(),this.#_=0,this.#r!==null&&N(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#i=this.#c(()=>(this.#u=!1,p(()=>this.#d(this.#t)))),this.#f>0?this.#p():this.#s=!1};var _=I;try{E(null),s=!0,t?.(e,r),s=!1}catch(u){M(u,this.#a&&this.#a.parent)}finally{E(_)}n&&U(()=>{this.#r=this.#c(()=>{m.ensure(),this.#u=!0;try{return p(()=>{n(this.#t,()=>e,()=>r)})}catch(u){return M(u,this.#a.parent),null}finally{this.#u=!1}})})}}let o;function Fe(){o=void 0}function Oe(i){let e=null,t=l;var n;if(l){for(e=d,o===void 0&&(o=J(document.head));o!==null&&(o.nodeType!==R||o.data!==q);)o=F(o);o===null?v(!1):o=y(F(o))}l||(n=document.head.appendChild(C()));try{W(()=>i(n),de)}finally{t&&(v(!0),o=d,y(e))}}function Ce(i,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(i.__t??=i.nodeValue)&&(i.__t=t,i.nodeValue=t+"")}function ke(i,e){return Z(i,e)}function Se(i,e){k(),e.intro=e.intro??!1;const t=e.target,n=l,f=d;try{for(var s=J(t);s&&(s.nodeType!==R||s.data!==q);)s=F(s);if(!s)throw A;v(!0),y(s);const r=Z(i,{...e,anchor:s});return v(!1),r}catch(r){if(r instanceof Error&&r.message.split(`
`).some(_=>_.startsWith("https://svelte.dev/e/")))throw r;return r!==A&&console.warn("Failed to hydrate: ",r),e.recover===!1&&_e(),k(),ue(t),v(!1),ke(i,e)}finally{v(n),y(f),Fe()}}const g=new Map;function Z(i,{target:e,anchor:t,props:n={},events:f,context:s,intro:r=!0}){k();var _=new Set,u=c=>{for(var h=0;h<c.length;h++){var a=c[h];if(!_.has(a)){_.add(a);var S=ve(a);e.addEventListener(a,b,{passive:S});var x=g.get(a);x===void 0?(document.addEventListener(a,b,{passive:S}),g.set(a,1)):g.set(a,x+1)}}};u(ce(pe)),V.add(u);var w=void 0,j=ge(()=>{var c=t??e.appendChild(C());return Ne(c,{pending:()=>{}},h=>{if(s){ye({});var a=$;a.c=s}if(f&&(n.$$events=f),l&&me(h,null),w=i(h,n)||{},l&&(T.nodes_end=d,d===null||d.nodeType!==R||d.data!==Ee))throw be(),A;s&&Te()}),()=>{for(var h of _){e.removeEventListener(h,b);var a=g.get(h);--a===0?(document.removeEventListener(h,b),g.delete(h)):g.set(h,a)}V.delete(u),c!==t&&c.parentNode?.removeChild(c)}});return O.set(w,j),w}let O=new WeakMap;function xe(i,e){const t=O.get(i);return t?(O.delete(i),t(e)):Promise.resolve()}export{Oe as a,Re as c,Se as h,ke as m,Ce as s,xe as u};
